---
import BotonFlecha from "../../global/BotonFlecha.astro";
import {strapiURL} from '../../../services/graphql.ts';
import {getPageData} from '../../../services/graphql.ts';
import * as HowItWorksData from '../../../data/HowItWorksQuerys.ts';



const data = await getPageData(HowItWorksData.GetHowItWorksSeccion());
console.log(data);
const StepsTitles = data.pageData.data.pageHiw.data.attributes.StepsTitles;
const Steps = data.pageData.data.pageHiw.data.attributes.Steps;

console.log(Steps[0].Icon.data.attributes.url);

console.log(StepsTitles[1].Heading);
---


<section id="howit">

	<span class="green-ball-blured"></span>
    <div class="contenedor">
        <div class="title">
           {StepsTitles[0].Heading}
  <!--          <span class="text-tertiaryTextColor">How </span>it works? -->
        </div>
    </div>
    <div class="contenedor">
        <div class="title">
            {StepsTitles[1].Heading}
        </div>
    </div>

    <div class="row_dos_columnas">

        <div class="columnaizquierda">
<!-- 
            {
                Steps.map((Data:any, Index:any) => (


                <div class="lista">
                <img alt="truck icon" class="icono" src={`${strapiURL}`+Data.Icon.data.attributes.url} alt="ui-icon">
                    <span class="bigchar">{Index}</span>
                <p> Confirm internet coverage at your address</p>
            </div>
                ))
            }
 -->


            <div class="lista">
                <img alt="truck icon" class="icono" src={`${strapiURL}${Steps[0].Icon.data.attributes.url}`} alt="ui-icon">
                    <span class="bigchar">1</span>
                <p> Confirm internet coverage at your address</p>
            </div>
            <div class="lista">
                <img alt="truck icon" class="icono" src="/icons/receiveicon.svg" alt="ui-icon">
                    <span class="bigchar">2</span>  
                <p>Purchase and U arrives at your home in 2 days</p>
            </div>
            <div class="lista">
                <img alt="app icon" class="icono" src="/image/movilconlogo.png" alt="ui-icon">
                    <span class="bigchar">3</span> 
                <p>Unbox and plug the U in â€“ instant U-wifi!</p>
            </div>

          
        </div>


        <div class="columnaderecha" >
            <span class="multi-ball-blured"></span>
            <img alt="phone image" class="iconoGrande" src="/image/movilconlogo.png" alt="ui-icon">
          
                <BotonFlecha texto="Download App" link="#"  />
         
        </div>
    </div>


</section>



<style>

.green-ball-blured{
    top: -20%;
	left: -30%;
	position: absolute;
    width: clamp(200px, 50vw, 620px);
	height: clamp(200px, 50vw, 600px);
	border-radius: 100%;
    background: #0c5406;
	filter: blur(150px);
	z-index: -1;
	}
.multi-ball-blured{
	position: absolute;
    top: 0;
	left: 0;
    width: clamp(200px, 50vw, 400px);
	height: clamp(200px, 50vw, 400px);
	border-radius: 100%;
    rotate: -90deg;
    background: linear-gradient(#5746E5 20%, #8743E5 20%, #20b340 60%);
	filter: blur(100px);
	z-index: -1;
	}

    section{
        position:relative;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        padding: clamp(0px, 10vw, 100px);
        width: 100%;
        margin-top: 80px;
    }
    .lista{
        display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;
    width: 100%;
    text-overflow: ellipsis;
    align-content: center;
    gap: 40px;
    }
    .bigchar{
        display: flex;
        flex-direction: column;
        justify-content: center;
        font-size: clamp(2rem, 7vw, 110px);
        font-weight: 700;
        color: var(--primary-text-color);

    }
    p{
        color: var(--primary-text-color);
        font-size: clamp(1rem, 3vw, 40px);
       
        font-family: var(--font-family-secondary);
        text-wrap: pretty;
       
    }
   
    svg, .icono{
        width: clamp(35px, 5vw, 150px);
        height: clamp(35px, 10vw, 180px);
       
    }
    .iconoGrande{
        width: clamp(100px, 20vw, 250px);
        height: clamp(100px, 50vw 400px);
    }
  

    .row_dos_columnas{
        display: flex;
        flex-direction: row;

        align-items: flex-start;
        align-content: flex-start;
        width: 100%;
        height: 100%;
       
    
        margin-top: 50px;
    }
    .columnaizquierda{
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: flex-start;
        align-content: flex-start;
        width: 70%;
        height: 60vh;

    }
    .columnaderecha{
        position:relative;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-content: center;
        align-items: center;
        align-content: center;
        width: 30%;
        height: 60vh;
        gap:20px;
  
    
    }

	.contenedor{
		display: flex;
		flex-direction: row;
		justify-content: left;
		align-items: left;
		width: 100%;
		text-wrap: pretty;
	}


	.title{
	
        color: var(--primary-text-color);
			font-size: clamp(1.5rem, 3vw, 60px);
			font-weight: 600;
            text-wrap: balance;
			}

    @media (max-width: 768px) {
        section{
            gap:1rem;
        }


    
	.contenedor{
		display: flex;
		flex-direction: row;
		justify-content: center;
		align-items: center;
		
	}
    
    .row_dos_columnas {
    flex-direction: column;
    align-items: center;
    align-content: center;
    gap: 1rem;
    }
    .columnaizquierda{
        width: 100%;
        height: 100%;
        gap: 1rem;

    }
    .columnaderecha{
        width: 100%;
        height: 100%;
    }
    .lista{
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        align-content: center;
        text-align: center;
        gap: 1rem;
        width: 100%;
        height: 100%;
    }
    .title{
	    text-align: center;
    }
  }
  @media  screen and (height< 450px) {
				section{
		
				
					margin-bottom: clamp(50px, 50vh, 100px);
				}
		
			}
</style>