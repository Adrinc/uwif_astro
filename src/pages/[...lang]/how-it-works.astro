---
import Layout from '../../layouts/Layout.astro';
import HeroHIWSeccion from '../../components/how-it-works/Secciones/HeroHIWSeccion.astro';
import UWIFISeccion from '../../components/how-it-works/Secciones/UWIFISeccion.astro';
import ConectionSeccion from '../../components/how-it-works/Secciones/ConectionSeccion.astro';
import {getPageData} from '../../services/graphql';
import * as HowItWorksData from '../../data/queries/HowItWorksQuerys';
import AnimationSection from '../../components/how-it-works/Secciones/AnimationSection.astro';
import { getLangFromUrl } from '../../data/constants';


const lang = getLangFromUrl(Astro.url)

const data = await getPageData(HowItWorksData.GetHowItWorksSeccionFull(lang), lang);

const layoutData = data.layoutData;
const seoData = data.pageData['data']['pageHiw']['data']['attributes']['SEO']

---

<Layout seoData={seoData} dataLayout={layoutData}>
	<AnimationSection/>
	<ConectionSeccion strapiData={data}/>
	<HeroHIWSeccion strapiData={data}/> 
</Layout>